{
  "hash": "8b483f5b1d5c438a9d3c9ab224f851ec",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"MA22019 2025 - Computer Lab 7\"\nsubtitle: \"Mise en place\"\ndescription: \"To work on the lab on date xx\"\ncategories: \"Lab\"\n---\n\n\n\n### **Overview**\n\n\nTutorial Question 1 considers an example similar to that in the lecture notes, and Tutorial Question 2 focuses on the use of projections for visualizing data.\n\n\n\nYou may want to load the following packages before starting the exercises:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary( dplyr )\nlibrary( ggplot2 )\nlibrary( sf )\nlibrary( ggspatial )\nlibrary( prettymapr )\n```\n:::\n\n\n\n\n\n### **Tutorial Question 1 - Temperature across north-eastern Brazil**\n\nThe file \"Brazil.csv\" contains average daily temperatures between 2000 and 2021 for 149 weather stations in north-eastern Brazil. You also given a shapefile for Brazil. We want to analyze the data using the techniques for point-referenced data introduced in the lecture.  \n\na) Visualize the locations of the weather stations and average daily temperature using the provided shapefile. Use the functions xlim() and ylim() to zoom in on the area of Brazil the stations are located in.\n\nb) Create a map with the ggspatial R package that illustrates the spatial locations of the weather stations and the recorded average daily temperatures. What do you conclude?\n\nc) Use inverse distance weighting to predict average daily temperature across north-eastern Brazil. Make sure to choose a suitable power parameter. Comment on the reliability of our estimates.\n\n\n### **Tutorial Question 2 - Alaskan horsehair crab landings**\n\nIn Section 4.1.3 we covered the topic of projections. The following tasks showcase one important aspect we should keep in mind when working with projections and demonstrates how we may handle it.\n\nThe data file “Crabs.csv” contains catch per unit effort (CPUE) data of commercial horsehair crab landings for various locations across the Alaskan Eastern Bering Sea for 2010-2018. CPUE is an indirect measure of the abundance of a species. We want to visualize the data using the shapefile for Alaska:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nAlaska <- read_sf( \"Data/Shapefiles/Alaska.shp\" )\n```\n:::\n\n\na) Create a plot of the provided shapefile. Is the WGS84 coordinate reference system being used for the plot?\n\nWe now want to explore the spatial data contained in \"Crabs.csv\". Run the following piece of R code\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nCrabs <- read.csv(\"data/crabs.csv\" )\nggplot( data=Alaska ) + theme_bw() + geom_sf() + \n  geom_point( data=Crabs, aes(x=longitude, y=latitude), colour=2 ) \n```\n:::\n\n\nb) Consider the data in \"Crabs.csv\" and discuss whether the map we produced is correct.\n\n\nLet’s change the projection of the shapefile with the coord_sf() and st_crs() functions covered in Section 4.1.2:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot( data=Alaska ) + theme_bw() + geom_sf() + \n  coord_sf( crs=st_crs(4326) ) + xlim(-180,-140) + \n  geom_point( data=Crabs, aes(x=longitude, y=latitude) ) \n```\n:::\n\n\nc) Is this plot more realistic than that in part b)? Adapt the code such that the recorded CPUE is shown in the plot. What do you conclude from the plot?\n\nInstead of changing the projection of the map, let's define spatial data points using the data in \"Crabs.csv\":\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nCrabs_map <- Crabs %>% \n  st_as_sf( coords = c(\"longitude\", \"latitude\"), crs = \"WGS84\" )\nggplot( data=Alaska ) + theme_bw() + geom_sf() + \n  geom_sf( data=Crabs_map, aes(color=cpue) ) +\n  labs( x=\"Longitude\", y=\"Latitude\" )\n```\n:::\n\n\nd) Do the locations of the points in the created plot match with the data shown in part c)? What can we learn from the considered R code about the use of projections?\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}