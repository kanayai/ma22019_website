---
title: "Quiz 3"
author: "Working with dplyr and ggplot2"
output:
  html_document: default
  pdf_document: default
fontsize: 12pt
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

### **Overview**

Exercises 1-3 help you with revising the techniques covered in the lectures in Week 2 (and Sections 1.3-2.2 in the lecture notes). You can check your solutions to these questions yourself by entering them on Moodle.

Before starting the questions, please make sure to load the relevant R packages: 

```{r, warning=FALSE, message=FALSE}
library(dplyr)
library(lubridate)
library(ggplot2)
library(patchwork)
```

### **Exercise 1 - Identifying visual cues**

An analysis of the Australian weather data, considered in the lecture, produced the following plot:

```{r, echo=F, out.width='83%', fig.height=3, fig.width=7, fig.align='center'}
AUS      <- read.csv("WeatherAustralia.csv" )
AUS$Date <- as_date( AUS$Date, format="%d/%m/%Y" )
MS       <- filter( AUS, Location %in% c("Darwin","Sydney") )
ggplot( MS, aes( x=Date, y=Rainfall ) ) + facet_wrap(~Location) +
  geom_step( aes(linetype=Location, colour=Location) ) +
  labs( y="Amount of Rainfall")
```

Identify the visual cues used in the plot and submit your answers via the quiz on Moodle.

### **Exercise 2 - Temperatures for Rio de Janeiro and Sao Paulo**

The files "Rio Temperature.csv" and "Sao Paulo Temperature.csv" contain monthly average temperature measurements for Rio de Janeiro and Sao Paulo in Brazil. Missing values in the data matrix are stored as $\mathrm{\texttt{NA}}$. 

a) Join the temperature data for Sao Paulo and Rio de Janeiro into a single data frame using full_join(). Each row in this new data frame should provide the year, month and the monthly average temperatures for Rio de Janeiro and Sao Paulo. Rename any variables that have uninformative names.

b) Using the data frame produced in part a), answer the following two questions and submit your answers via the quiz on Moodle:

    (i) What was the monthly average temperature for Rio de Janeiro when Sao Paulo recorded its highest monthly average temperature?
 
    (ii) What was the largest difference in the monthly average temperatures for Sao Paulo and Rio de Janeiro?
   
    

### **Exercise 3 - Weather in New York City in 2019**

The file "NYC Weather 2019.csv" provides daily weather data for 2019 for New York City. We are given the following variables:

* **Date:** Day of the recording

* **Tmin, Tmax:** Minimum and maximum temperature in degree Fahrenheit

* **Precipitation:** Amount of precipitation in inches

Consider the following tasks. You can submit your answers to parts c) and e) via the quiz on Moodle.

a) Create a density plot to visualize the distribution of the maximum daily temperature.

b) Similar to Section 2.2.3. in the lecture notes, create a line plot of day of year against amount of precipitation on that day.

c) Identify the date for which the difference in recorded daily minimum and maximum temperatures was at its highest in 2019. Enter your answer in the Day/Month format via the quiz on Moodle.

d) Create a plot which per month provides a box plot for the maximum daily temperature. **Hint:** Use the function month() to extract the month from a date and then apply the function factor() to convert it to a categorical variable.

e) Answer the following two questions and submit your questions via the quiz on Moodle:

    (i) Which month had the highest median daily maximum temperature according to your plot in part d)?

    (ii) We learned that box plots should usually be ordered based on a criteria, such as the median. Should this approach also be taken for the box plot you created in part d)?


